pipeline {
 agent any
 stages {
 stage('Checkout') {
 steps {
 git branch: 'main', url: 'https://github.com/ELmeehdi/pipelineTest.git'
 }
 }
 stage('Build') {
 steps {
 sh 'mvn clean compile'
 }
 }
 stage('Test') {
 steps {
 sh 'mvn test'
 }
 }
 stage('Deploy') {
 steps {
 sh 'scp target/*.jar user@server:/path/to/deploy'
 }
 }
 }
 post {
always {
 sh 'mvn clean'
 }
 }
}
